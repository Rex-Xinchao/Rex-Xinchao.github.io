<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RexSun的学习之旅</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="RexSun的个人网站">
    
    <link rel="preload" href="/assets/css/0.styles.992cb7aa.css" as="style"><link rel="preload" href="/assets/js/app.865cefd4.js" as="script"><link rel="preload" href="/assets/js/2.0000db7a.js" as="script"><link rel="preload" href="/assets/js/44.dc111544.js" as="script"><link rel="prefetch" href="/assets/js/10.0fc7c995.js"><link rel="prefetch" href="/assets/js/11.edb73848.js"><link rel="prefetch" href="/assets/js/12.d482591b.js"><link rel="prefetch" href="/assets/js/13.2ac123c1.js"><link rel="prefetch" href="/assets/js/14.85dbac8d.js"><link rel="prefetch" href="/assets/js/15.a6733102.js"><link rel="prefetch" href="/assets/js/16.6fb0a9a2.js"><link rel="prefetch" href="/assets/js/17.ee270483.js"><link rel="prefetch" href="/assets/js/18.b8c70d17.js"><link rel="prefetch" href="/assets/js/19.b992832f.js"><link rel="prefetch" href="/assets/js/20.7b2e2c67.js"><link rel="prefetch" href="/assets/js/21.2019d4bd.js"><link rel="prefetch" href="/assets/js/22.8013c1cf.js"><link rel="prefetch" href="/assets/js/23.2ae79ddc.js"><link rel="prefetch" href="/assets/js/24.a2812e67.js"><link rel="prefetch" href="/assets/js/25.db33446c.js"><link rel="prefetch" href="/assets/js/26.c595a3df.js"><link rel="prefetch" href="/assets/js/27.c8670e98.js"><link rel="prefetch" href="/assets/js/28.555327d2.js"><link rel="prefetch" href="/assets/js/29.366673c4.js"><link rel="prefetch" href="/assets/js/3.91293c93.js"><link rel="prefetch" href="/assets/js/30.a1237a6b.js"><link rel="prefetch" href="/assets/js/31.c81f44df.js"><link rel="prefetch" href="/assets/js/32.4811cab7.js"><link rel="prefetch" href="/assets/js/33.eff05e29.js"><link rel="prefetch" href="/assets/js/34.d68ba7fe.js"><link rel="prefetch" href="/assets/js/35.c7f05deb.js"><link rel="prefetch" href="/assets/js/36.4ca7ea19.js"><link rel="prefetch" href="/assets/js/37.3c3aad9d.js"><link rel="prefetch" href="/assets/js/38.467b63df.js"><link rel="prefetch" href="/assets/js/39.c993f8e0.js"><link rel="prefetch" href="/assets/js/4.43f87e6c.js"><link rel="prefetch" href="/assets/js/40.e6d9ab26.js"><link rel="prefetch" href="/assets/js/41.98d3b26c.js"><link rel="prefetch" href="/assets/js/42.f7fef84f.js"><link rel="prefetch" href="/assets/js/43.25974544.js"><link rel="prefetch" href="/assets/js/5.b2526979.js"><link rel="prefetch" href="/assets/js/6.53e9f0e6.js"><link rel="prefetch" href="/assets/js/7.9f87f5fd.js"><link rel="prefetch" href="/assets/js/8.726fde7e.js"><link rel="prefetch" href="/assets/js/9.f189923e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.992cb7aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">RexSun的学习之旅</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/Rex-Xinchao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/Rex-Xinchao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>环境搭建</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/catalog_start/tool.html" class="sidebar-link">开发工具</a></li><li><a href="/catalog_start/mysql.html" class="sidebar-link">Mysql安装</a></li><li><a href="/catalog_start/node.html" class="sidebar-link">Node安装</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/catalog_start/git.html" class="sidebar-link">Git安装</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络请求</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>三方平台开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>单元测试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>服务器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>npm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试总结</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="组件通讯"><a href="#组件通讯" class="header-anchor">#</a> 组件通讯</h2> <h3 id="root-parent-children"><a href="#root-parent-children" class="header-anchor">#</a> $root &amp; $parent &amp; $children</h3> <ul><li><p>$root(子组件可以通过 $root 属性访问父组件实例的属性和方法)</p> <blockquote><p>$root获取的是根父组件实例</p></blockquote></li> <li><p>$parent(子组件可以通过 $parent 属性访问父组件实例的属性和方法)</p> <blockquote><p>当只存在1级子组件时，$root等于$parent <br>
当存在多级子组件时，$parent是最近一级的父组件实例</p></blockquote></li> <li><p>$children (父组件可以通过$children获取子组件列)</p> <blockquote><p>返回的是一个vue子组件实例数组</p></blockquote></li></ul> <h3 id="attrs-listeners"><a href="#attrs-listeners" class="header-anchor">#</a> $attrs &amp; $listeners</h3> <ul><li>attrs (继承所有的父组件属性，除props、class和style)
<blockquote><p>v-bind=&quot;$attrs&quot;可以把父组件的属性传递给子组件</p></blockquote></li> <li>listeners (继承所有父组件的监听事件)
<blockquote><p>v-on=&quot;$listeners&quot;可以把父组件的监听事件传递给子组件</p></blockquote></li></ul> <h3 id="eventbus"><a href="#eventbus" class="header-anchor">#</a> EventBus</h3> <p>全局组件任意通讯</p> <div class="language-ecmascript 6 extra-class"><pre class="language-text"><code>// main.js
let $eventBus = new Vue();
Vue.prototype.$eventBus = {
  /**
   * @param {any} event 第一个参数是事件对象，第二个参数是接收到消息信息，可以是任意类型
   * @method $on 事件订阅, 监听当前实例上的自定义事件。https://cn.vuejs.org/v2/api/#vm-on
   * @method $off 取消事件订阅，移除自定义事件监听器。 https://cn.vuejs.org/v2/api/#vm-off https://github.com/vuejs/vue/issues/3399
   * @method $emit 事件广播, 触发当前实例上的事件。 https://cn.vuejs.org/v2/api/#vm-emit
   * @method $once 事件订阅, 监听一个自定义事件，但是只触发一次，在第一次触发之后移除监听器。 https://cn.vuejs.org/v2/api/#vm-once
   */
  $on(...event) {
    $eventBus.$on(...event)
  },
  $off(...event) {
    $eventBus.$off(...event)
  },
  $once(...event) {
    $eventBus.$emit(...event)
  },
  $emit(...event) {
    $eventBus.$emit(...event)
  }
};
// 使用
this.$eventBus.$emit('updateTags', 'hello');
this.$eventBus.$on('updateTags', val =&gt; console.log(val) );
this.$eventBus.$off('updateTags');
</code></pre></div><h2 id="vue属性"><a href="#vue属性" class="header-anchor">#</a> Vue属性</h2> <h3 id="watch-监听"><a href="#watch-监听" class="header-anchor">#</a> watch (监听)</h3> <ul><li>immediate (立即初始化)
<blockquote><p>申明了后立即执行handle方法，默认false<br>
immediate设置为true后，会在vue实例化后执行watch的handle方法</p></blockquote></li></ul> <div class="language-ecmascript 6 extra-class"><pre class="language-text"><code>export default {
  watch:{
  		searchValue:{
  			//使用watch值是对象的第三种情况
  			handler:&quot;getList&quot;,
  			//getList里面通过searchValue去搜索数据库
  			immediate:true
  		}
  	},
  methods:{
  		getList(){
  			// 调用接口获取数据
  		}
  	}
}
</code></pre></div><ul><li>deep (深度监听)
<blockquote><p>监听复杂数据类型</p></blockquote></li></ul> <div class="language-ecmascript 6 extra-class"><pre class="language-text"><code>export default {
  watch:{
  		searchValue:{
  			handler () {
  			  // 事件处理
  			},
  			deep:true
  		}
  	}
}
</code></pre></div><h3 id="inheritattrs"><a href="#inheritattrs" class="header-anchor">#</a> inheritAttrs</h3> <p>设置为false时，所有属性（特指不是props的属性）不会绑定到html上<br>
inheritAttrs并不影响class和style绑定<br></p> <h3 id="extends"><a href="#extends" class="header-anchor">#</a> extends</h3> <p>vue的extends和mixins类似，通过暴露一个extends对象到组件中使用<br>
extends会比mixins先执行。执行顺序：extends  &gt; mixins &gt; 组件<br>
extends只能暴露一个extends对象，暴露多个extends不会执行<br></p> <h3 id="vue-observable"><a href="#vue-observable" class="header-anchor">#</a> Vue.observable</h3> <p>使对象的属性变计算属性</p> <div class="language-ecmascript 6 extra-class"><pre class="language-text"><code>// store/index.js
import Vue from 'vue'

export const store = Vue.observable({ count: 0 })
export const mutations = {
  setCount (count) {
    store.count = count
  }
}
</code></pre></div><h3 id="directive"><a href="#directive" class="header-anchor">#</a> directive</h3> <p>将文字变成指定的颜色</p> <div class="language- extra-class"><pre class="language-text"><code>// 全局定义
Vue.directive(&quot;change-color&quot;,function(el,binding,vnode){
  el.style[&quot;color&quot;]= binding.value;
})

// 使用
&lt;template&gt;
    &lt;div v-change-color=“color”&gt;{{message}}&lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
  export default{
    data(){
      return{ color:'green' }
    }
  }
&lt;/script&gt;
</code></pre></div><h2 id="性能-代码优化"><a href="#性能-代码优化" class="header-anchor">#</a> 性能/代码优化</h2> <h3 id="require-context"><a href="#require-context" class="header-anchor">#</a> require.context</h3> <p>批量导入组件</p> <div class="language-ecmascript 6 extra-class"><pre class="language-text"><code>const path = require('path');
const files = require.context('@/components/home', false, /\.vue$/);
const modules = {};
files.keys().forEach(key =&gt; {
  const name = path.basename(key, '.vue');
  modules[name] = files(key).default || files(key)
});
export default { 
 components:modules 
}
</code></pre></div><h3 id="局部-全局注册组件"><a href="#局部-全局注册组件" class="header-anchor">#</a> 局部/全局注册组件</h3> <div class="language-ecmascript 6 extra-class"><pre class="language-text"><code>// 局部
export default{ components:{home}}
// 全局
Vue.component('home',home)
</code></pre></div><h3 id="异步组件"><a href="#异步组件" class="header-anchor">#</a> 异步组件</h3> <p>异步组件实现按需加载</p> <ul><li>方法1</li></ul> <div class="language-ecmascript 6 extra-class"><pre class="language-text"><code>// 工厂函数执行 resolve 回调
Vue.component('component-example', function (resolve) {
  // 这个特殊的 `require` 语法将会告诉 webpack
  // 自动将你的构建代码切割成多个包, 这些包
  // 会通过 Ajax 请求加载
  require(['./component-example'], resolve)
});
// ☆☆☆☆☆
export default {
  data (){},
  components: { 'component-example': (resolve) =&gt; {
    require(['./component-example'], resolve)
  }},
}
</code></pre></div><ul><li>方法2</li></ul> <div class="language-ecmascript 6 extra-class"><pre class="language-text"><code>// 工厂函数返回 Promise
Vue.component(
  'component-example',
  // 这个 `import` 函数会返回一个 `Promise` 对象。
  () =&gt; import('./component-example')
);
// ☆☆☆☆☆
export default {
  data (){},
  components: { 'component-example': () =&gt; import('./component-example')},
}
</code></pre></div><h3 id="动态组件"><a href="#动态组件" class="header-anchor">#</a> 动态组件</h3> <p>v-if会销毁实例，但使用了keep-alive会保存之前用户的使用状态</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;keep-alive&gt;
   &lt;INPUT-ONE v-if=&quot;show&quot;&gt;&lt;/INPUT-ONE&gt;
   &lt;INPUT-TWO v-if=&quot;!show&quot;&gt;&lt;/INPUT-TWO&gt;
&lt;/keep-alive&gt;
</code></pre></div><h3 id="render"><a href="#render" class="header-anchor">#</a> render</h3> <p>内容相同，但是会使用不同标签的情况下，使用render</p> <div class="language- extra-class"><pre class="language-text"><code>// 父组件引用子组件
 &lt;Dom-Set :level=&quot;1&quot;&gt;hello world&lt;/Dom-Set&gt;
 
// 子组件
&lt;script&gt;
  export default {
    render(h) {
      const tag = ['div', 'p', 'strong', 'h1', 'h2', 'textarea'][this.level-1]
      return h(tag, this.$slots.default)
    },
    props: {
      level: {  type: Number,  required: true  }
    }
  }
&lt;/script&gt;
</code></pre></div><h2 id="others"><a href="#others" class="header-anchor">#</a> others</h2> <h3 id="nexttick"><a href="#nexttick" class="header-anchor">#</a> nextTick</h3> <p>+用法:在下次 DOM 更新循环结束之后执行延迟回调<br>
在修改数据之后立即使用这个方法，获取更新后的 DOM</p> <div class="language- extra-class"><pre class="language-text"><code>mounted(){ 
   //因为 mounted 阶段 dom 并未渲染完毕,所以需要$nextTick
  this.$nextTick(() =&gt; {
    this.$refs.inputs.focus() //通过 $refs 获取dom 并绑定 focus 方法
  })
}
</code></pre></div><h3 id="version"><a href="#version" class="header-anchor">#</a> version</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 针对不同版本vue处理</span>
<span class="token keyword">var</span> version <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>Vue<span class="token punctuation">.</span>version<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>version <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Vue v2.x.x</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>version <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Vue v1.x.x</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// Unsupported versions of Vue</span>
<span class="token punctuation">}</span>
</code></pre></div><p>###v-pre
静态标签不需要多次编译</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;span v-pre&gt;{{ this will not be compiled }}&lt;/span&gt;   显示的是{{ this will not be compiled }}
&lt;span v-pre&gt;{{msg}}&lt;/span&gt;     即使data里面定义了msg这里仍然是显示的{{msg}}
</code></pre></div><h3 id="为路径设置别名"><a href="#为路径设置别名" class="header-anchor">#</a> 为路径设置别名</h3> <ul><li>vue-cli 2.x</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 在 webpack.base.config.js中的 resolve 配置项，在其 alias 中增加别名
resolve: {
    extensions: ['.js', '.vue', '.json'],
    alias: {
      'vue$': 'vue/dist/vue.esm.js',
      '@': resolve('src'),
    }
  }
</code></pre></div><ul><li>vue-cli 3.x</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 在根目录下创建vue.config.js
var path = require('path')
function resolve (dir) {
  console.log(__dirname)
  return path.join(__dirname, dir)
}
module.exports = {
  chainWebpack: config =&gt; {
    config.resolve.alias
      .set(key, value) // key,value自行定义，比如.set('@@', resolve('src/components'))
  }
}
</code></pre></div><h3 id="img-加载失败"><a href="#img-加载失败" class="header-anchor">#</a> img 加载失败</h3> <div class="language- extra-class"><pre class="language-text"><code>// page 代码
&lt;img :src=&quot;imgUrl&quot; @error=&quot;handleError&quot; alt=&quot;&quot;&gt;
&lt;script&gt;
export default{
  data(){
    return{ imgUrl:'' }
  },
  methods:{
    handleError(e){
      e.target.src=reqiure('图片路径') //当然如果项目配置了transformToRequire,参考上面 27.2
    }
  }
}
&lt;/script&gt;
</code></pre></div><h2 id="参考文档"><a href="#参考文档" class="header-anchor">#</a> 参考文档</h2> <p><a href="https://juejin.im/post/5d9d386fe51d45784d3f8637#heading-30" title="#" target="_blank" rel="noopener noreferrer">Vue开发必须知道的36个技巧<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.im/post/5d4bb71e51882551d172e557" title="#" target="_blank" rel="noopener noreferrer">vue文档里你没捡起来的宝藏<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.im/post/5c1b2921f265da613d7c06b5" title="#" target="_blank" rel="noopener noreferrer">实用的vue插件大汇总<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.865cefd4.js" defer></script><script src="/assets/js/2.0000db7a.js" defer></script><script src="/assets/js/44.dc111544.js" defer></script>
  </body>
</html>
