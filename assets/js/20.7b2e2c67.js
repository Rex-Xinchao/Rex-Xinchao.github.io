(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{376:function(s,t,n){"use strict";n.r(t);var e=n(42),a=Object(e.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#需求与背景"}},[s._v("需求与背景")])]),n("li",[n("a",{attrs:{href:"#搭建-nexus"}},[s._v("搭建 Nexus")])])])]),n("p"),s._v(" "),n("h3",{attrs:{id:"需求与背景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#需求与背景"}},[s._v("#")]),s._v(" 需求与背景")]),s._v(" "),n("blockquote",[n("ul",[n("li",[s._v("公司开发环境与外网隔绝，需要搭建内网私有 npm 库，确保私密性")]),s._v(" "),n("li",[s._v("确保 npm 服务快速、稳定，减少开发人员和 CI 服务器的重复下载量并提高下载速度")]),s._v(" "),n("li",[s._v("控制 npm 模块质量和安全，对于下载、发布 npm 包有对应的权限管理")])])]),s._v(" "),n("h3",{attrs:{id:"搭建-nexus"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建-nexus"}},[s._v("#")]),s._v(" 搭建 Nexus")]),s._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#下载解压")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://download.sonatype.com/nexus/3/latest-unix.tar.gz "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#下载")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" latest-unix.tar.gz /opt/nexus3.tar.gz "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#移动到 /opt 目录")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xzvf nexus3.tar.gz "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#解压")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建用户、指定用户目录、授权")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -d /home/nexus -m nexus\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R nexus:nexus /home/nexus\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R nexus:nexus /opt/nexus-3.15.2-01\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R nexus:nexus /opt/sonatype-work/\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 nexus 服务")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nexus start\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 nexus 服务")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nexus restart\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止 nexus 服务")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nexus stop\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 nexus 服务状态")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nexus status\n")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);