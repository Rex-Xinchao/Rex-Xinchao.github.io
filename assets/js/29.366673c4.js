(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{388:function(t,a,s){"use strict";s.r(a);var n=s(42),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),s("p",[t._v("docker 安装 gitlab 服务器配置至少 2 核 4G")])]),t._v(" "),s("h3",{attrs:{id:"安装-gitlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-gitlab"}},[t._v("#")]),t._v(" 安装 gitlab")]),t._v(" "),s("ul",[s("li",[t._v("安装命令")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" docker run --detach "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --hostname "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("121.36")]),t._v(".201.82 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --publish "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8443")]),t._v(":443 --publish "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8880")]),t._v(":80 --publish "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8222")]),t._v(":22 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --name gitlab "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --restart always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --volume /srv/gitlab/config:/etc/gitlab "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --volume /srv/gitlab/logs:/var/log/gitlab "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --volume /srv/gitlab/data:/var/opt/gitlab "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    gitlab/gitlab-ce:latest\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 参数说明")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## --detach: 设置容器后台运行")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## --hostname: 设置容器的 hostname")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## --publish: 端口转发规则（将http:443映射到外部端口8443；将web:80映射到外部端口8880；将ssh:22端口映射到外部端口8222）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## --name：容器名称")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## --restart always：每次启动容器就重启GitLab")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## --volume: 共享目录挂载，即 docker 容器内外数据共享（/srv/gitlab/data: 应用程序数据，/srv/gitlab/logs：GitLab 的 log，/srv/gitlab/config：GitLab 的配置文件）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## --privileged=true：是容器内获得root真正权限??")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## --e：配置 Gitlab 运行的环境变量")]),t._v("\n")])])]),s("ul",[s("li",[s("p",[t._v("查看 url -- 121.36.201.82:8880")])]),t._v(" "),s("li",[s("p",[t._v("gitlab 配置指南 "),s("a",{attrs:{href:"https://segmentfault.com/a/1190000021593151",target:"_blank",rel:"noopener noreferrer"}},[t._v("gitlab"),s("OutboundLink")],1)])])])])}),[],!1,null,null,null);a.default=e.exports}}]);