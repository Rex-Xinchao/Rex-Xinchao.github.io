(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{408:function(t,e,a){"use strict";a.r(e);var s=a(42),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"组件通讯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件通讯"}},[t._v("#")]),t._v(" 组件通讯")]),t._v(" "),a("h3",{attrs:{id:"root-parent-children"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#root-parent-children"}},[t._v("#")]),t._v(" $root & $parent & $children")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("$root(子组件可以通过 $root 属性访问父组件实例的属性和方法)")]),t._v(" "),a("blockquote",[a("p",[t._v("$root获取的是根父组件实例")])])]),t._v(" "),a("li",[a("p",[t._v("$parent(子组件可以通过 $parent 属性访问父组件实例的属性和方法)")]),t._v(" "),a("blockquote",[a("p",[t._v("当只存在1级子组件时，$root等于$parent "),a("br"),t._v("\n当存在多级子组件时，$parent是最近一级的父组件实例")])])]),t._v(" "),a("li",[a("p",[t._v("$children (父组件可以通过$children获取子组件列)")]),t._v(" "),a("blockquote",[a("p",[t._v("返回的是一个vue子组件实例数组")])])])]),t._v(" "),a("h3",{attrs:{id:"attrs-listeners"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#attrs-listeners"}},[t._v("#")]),t._v(" $attrs & $listeners")]),t._v(" "),a("ul",[a("li",[t._v("attrs (继承所有的父组件属性，除props、class和style)\n"),a("blockquote",[a("p",[t._v('v-bind="$attrs"可以把父组件的属性传递给子组件')])])]),t._v(" "),a("li",[t._v("listeners (继承所有父组件的监听事件)\n"),a("blockquote",[a("p",[t._v('v-on="$listeners"可以把父组件的监听事件传递给子组件')])])])]),t._v(" "),a("h3",{attrs:{id:"eventbus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eventbus"}},[t._v("#")]),t._v(" EventBus")]),t._v(" "),a("p",[t._v("全局组件任意通讯")]),t._v(" "),a("div",{staticClass:"language-ecmascript 6 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// main.js\nlet $eventBus = new Vue();\nVue.prototype.$eventBus = {\n  /**\n   * @param {any} event 第一个参数是事件对象，第二个参数是接收到消息信息，可以是任意类型\n   * @method $on 事件订阅, 监听当前实例上的自定义事件。https://cn.vuejs.org/v2/api/#vm-on\n   * @method $off 取消事件订阅，移除自定义事件监听器。 https://cn.vuejs.org/v2/api/#vm-off https://github.com/vuejs/vue/issues/3399\n   * @method $emit 事件广播, 触发当前实例上的事件。 https://cn.vuejs.org/v2/api/#vm-emit\n   * @method $once 事件订阅, 监听一个自定义事件，但是只触发一次，在第一次触发之后移除监听器。 https://cn.vuejs.org/v2/api/#vm-once\n   */\n  $on(...event) {\n    $eventBus.$on(...event)\n  },\n  $off(...event) {\n    $eventBus.$off(...event)\n  },\n  $once(...event) {\n    $eventBus.$emit(...event)\n  },\n  $emit(...event) {\n    $eventBus.$emit(...event)\n  }\n};\n// 使用\nthis.$eventBus.$emit('updateTags', 'hello');\nthis.$eventBus.$on('updateTags', val => console.log(val) );\nthis.$eventBus.$off('updateTags');\n")])])]),a("h2",{attrs:{id:"vue属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue属性"}},[t._v("#")]),t._v(" Vue属性")]),t._v(" "),a("h3",{attrs:{id:"watch-监听"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#watch-监听"}},[t._v("#")]),t._v(" watch (监听)")]),t._v(" "),a("ul",[a("li",[t._v("immediate (立即初始化)\n"),a("blockquote",[a("p",[t._v("申明了后立即执行handle方法，默认false"),a("br"),t._v("\nimmediate设置为true后，会在vue实例化后执行watch的handle方法")])])])]),t._v(" "),a("div",{staticClass:"language-ecmascript 6 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('export default {\n  watch:{\n  \t\tsearchValue:{\n  \t\t\t//使用watch值是对象的第三种情况\n  \t\t\thandler:"getList",\n  \t\t\t//getList里面通过searchValue去搜索数据库\n  \t\t\timmediate:true\n  \t\t}\n  \t},\n  methods:{\n  \t\tgetList(){\n  \t\t\t// 调用接口获取数据\n  \t\t}\n  \t}\n}\n')])])]),a("ul",[a("li",[t._v("deep (深度监听)\n"),a("blockquote",[a("p",[t._v("监听复杂数据类型")])])])]),t._v(" "),a("div",{staticClass:"language-ecmascript 6 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("export default {\n  watch:{\n  \t\tsearchValue:{\n  \t\t\thandler () {\n  \t\t\t  // 事件处理\n  \t\t\t},\n  \t\t\tdeep:true\n  \t\t}\n  \t}\n}\n")])])]),a("h3",{attrs:{id:"inheritattrs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inheritattrs"}},[t._v("#")]),t._v(" inheritAttrs")]),t._v(" "),a("p",[t._v("设置为false时，所有属性（特指不是props的属性）不会绑定到html上"),a("br"),t._v("\ninheritAttrs并不影响class和style绑定"),a("br")]),t._v(" "),a("h3",{attrs:{id:"extends"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extends"}},[t._v("#")]),t._v(" extends")]),t._v(" "),a("p",[t._v("vue的extends和mixins类似，通过暴露一个extends对象到组件中使用"),a("br"),t._v("\nextends会比mixins先执行。执行顺序：extends  > mixins > 组件"),a("br"),t._v("\nextends只能暴露一个extends对象，暴露多个extends不会执行"),a("br")]),t._v(" "),a("h3",{attrs:{id:"vue-observable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-observable"}},[t._v("#")]),t._v(" Vue.observable")]),t._v(" "),a("p",[t._v("使对象的属性变计算属性")]),t._v(" "),a("div",{staticClass:"language-ecmascript 6 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// store/index.js\nimport Vue from 'vue'\n\nexport const store = Vue.observable({ count: 0 })\nexport const mutations = {\n  setCount (count) {\n    store.count = count\n  }\n}\n")])])]),a("h3",{attrs:{id:"directive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#directive"}},[t._v("#")]),t._v(" directive")]),t._v(" "),a("p",[t._v("将文字变成指定的颜色")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('// 全局定义\nVue.directive("change-color",function(el,binding,vnode){\n  el.style["color"]= binding.value;\n})\n\n// 使用\n<template>\n    <div v-change-color=“color”>{{message}}</div>\n</template>\n<script>\n  export default{\n    data(){\n      return{ color:\'green\' }\n    }\n  }\n<\/script>\n')])])]),a("h2",{attrs:{id:"性能-代码优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#性能-代码优化"}},[t._v("#")]),t._v(" 性能/代码优化")]),t._v(" "),a("h3",{attrs:{id:"require-context"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#require-context"}},[t._v("#")]),t._v(" require.context")]),t._v(" "),a("p",[t._v("批量导入组件")]),t._v(" "),a("div",{staticClass:"language-ecmascript 6 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("const path = require('path');\nconst files = require.context('@/components/home', false, /\\.vue$/);\nconst modules = {};\nfiles.keys().forEach(key => {\n  const name = path.basename(key, '.vue');\n  modules[name] = files(key).default || files(key)\n});\nexport default { \n components:modules \n}\n")])])]),a("h3",{attrs:{id:"局部-全局注册组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#局部-全局注册组件"}},[t._v("#")]),t._v(" 局部/全局注册组件")]),t._v(" "),a("div",{staticClass:"language-ecmascript 6 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 局部\nexport default{ components:{home}}\n// 全局\nVue.component('home',home)\n")])])]),a("h3",{attrs:{id:"异步组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#异步组件"}},[t._v("#")]),t._v(" 异步组件")]),t._v(" "),a("p",[t._v("异步组件实现按需加载")]),t._v(" "),a("ul",[a("li",[t._v("方法1")])]),t._v(" "),a("div",{staticClass:"language-ecmascript 6 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 工厂函数执行 resolve 回调\nVue.component('component-example', function (resolve) {\n  // 这个特殊的 `require` 语法将会告诉 webpack\n  // 自动将你的构建代码切割成多个包, 这些包\n  // 会通过 Ajax 请求加载\n  require(['./component-example'], resolve)\n});\n// ☆☆☆☆☆\nexport default {\n  data (){},\n  components: { 'component-example': (resolve) => {\n    require(['./component-example'], resolve)\n  }},\n}\n")])])]),a("ul",[a("li",[t._v("方法2")])]),t._v(" "),a("div",{staticClass:"language-ecmascript 6 extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 工厂函数返回 Promise\nVue.component(\n  'component-example',\n  // 这个 `import` 函数会返回一个 `Promise` 对象。\n  () => import('./component-example')\n);\n// ☆☆☆☆☆\nexport default {\n  data (){},\n  components: { 'component-example': () => import('./component-example')},\n}\n")])])]),a("h3",{attrs:{id:"动态组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动态组件"}},[t._v("#")]),t._v(" 动态组件")]),t._v(" "),a("p",[t._v("v-if会销毁实例，但使用了keep-alive会保存之前用户的使用状态")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<keep-alive>\n   <INPUT-ONE v-if="show"></INPUT-ONE>\n   <INPUT-TWO v-if="!show"></INPUT-TWO>\n</keep-alive>\n')])])]),a("h3",{attrs:{id:"render"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#render"}},[t._v("#")]),t._v(" render")]),t._v(" "),a("p",[t._v("内容相同，但是会使用不同标签的情况下，使用render")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 父组件引用子组件\n <Dom-Set :level=\"1\">hello world</Dom-Set>\n \n// 子组件\n<script>\n  export default {\n    render(h) {\n      const tag = ['div', 'p', 'strong', 'h1', 'h2', 'textarea'][this.level-1]\n      return h(tag, this.$slots.default)\n    },\n    props: {\n      level: {  type: Number,  required: true  }\n    }\n  }\n<\/script>\n")])])]),a("h2",{attrs:{id:"others"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#others"}},[t._v("#")]),t._v(" others")]),t._v(" "),a("h3",{attrs:{id:"nexttick"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nexttick"}},[t._v("#")]),t._v(" nextTick")]),t._v(" "),a("p",[t._v("+用法:在下次 DOM 更新循环结束之后执行延迟回调"),a("br"),t._v("\n在修改数据之后立即使用这个方法，获取更新后的 DOM")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mounted(){ \n   //因为 mounted 阶段 dom 并未渲染完毕,所以需要$nextTick\n  this.$nextTick(() => {\n    this.$refs.inputs.focus() //通过 $refs 获取dom 并绑定 focus 方法\n  })\n}\n")])])]),a("h3",{attrs:{id:"version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#version"}},[t._v("#")]),t._v(" version")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 针对不同版本vue处理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" version "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("version "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue v2.x.x")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("version "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue v1.x.x")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Unsupported versions of Vue")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("###v-pre\n静态标签不需要多次编译")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<span v-pre>{{ this will not be compiled }}</span>   显示的是{{ this will not be compiled }}\n<span v-pre>{{msg}}</span>     即使data里面定义了msg这里仍然是显示的{{msg}}\n")])])]),a("h3",{attrs:{id:"为路径设置别名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为路径设置别名"}},[t._v("#")]),t._v(" 为路径设置别名")]),t._v(" "),a("ul",[a("li",[t._v("vue-cli 2.x")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 在 webpack.base.config.js中的 resolve 配置项，在其 alias 中增加别名\nresolve: {\n    extensions: ['.js', '.vue', '.json'],\n    alias: {\n      'vue$': 'vue/dist/vue.esm.js',\n      '@': resolve('src'),\n    }\n  }\n")])])]),a("ul",[a("li",[t._v("vue-cli 3.x")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 在根目录下创建vue.config.js\nvar path = require('path')\nfunction resolve (dir) {\n  console.log(__dirname)\n  return path.join(__dirname, dir)\n}\nmodule.exports = {\n  chainWebpack: config => {\n    config.resolve.alias\n      .set(key, value) // key,value自行定义，比如.set('@@', resolve('src/components'))\n  }\n}\n")])])]),a("h3",{attrs:{id:"img-加载失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#img-加载失败"}},[t._v("#")]),t._v(" img 加载失败")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('// page 代码\n<img :src="imgUrl" @error="handleError" alt="">\n<script>\nexport default{\n  data(){\n    return{ imgUrl:\'\' }\n  },\n  methods:{\n    handleError(e){\n      e.target.src=reqiure(\'图片路径\') //当然如果项目配置了transformToRequire,参考上面 27.2\n    }\n  }\n}\n<\/script>\n')])])]),a("h2",{attrs:{id:"参考文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文档"}},[t._v("#")]),t._v(" 参考文档")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5d9d386fe51d45784d3f8637#heading-30",title:"#",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue开发必须知道的36个技巧"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5d4bb71e51882551d172e557",title:"#",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue文档里你没捡起来的宝藏"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/5c1b2921f265da613d7c06b5",title:"#",target:"_blank",rel:"noopener noreferrer"}},[t._v("实用的vue插件大汇总"),a("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);